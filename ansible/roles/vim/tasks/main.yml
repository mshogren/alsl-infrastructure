---
- name: install vim package
  apt:
    name:
      - vim-nox
    state: present
  become: true
- name: set default editor
  alternatives:
    name: editor
    path: /usr/bin/vim.nox
  become: true
- name: get .vimrc from git
  git:
    repo: http://github.com/mshogren/dotvim.git
    dest: ~/.vim
    version: master
- name: create undo dierctory
  file:
    path: ~/.vim/undo
    state: directory
- name: create .vim directory in skel
  file:
    path: /etc/skel/.vim
    state: directory
  become: true
- name: create undo directory in skel
  file:
    path: /etc/skel/.vim/undo
    state: directory
  become: true
- name: copy vimrc to skel
  copy:
    src: ~/.vim/vimrc
    dest: /etc/skel/.vim/vimrc
  become: true
- name: create .editorconfig file
  blockinfile:
    path: ~/.editorconfig
    create: true
    block: |
      root = true

      [*]
      indent_style = space
      indent_size = 2
      end_of_line = lf
      charset = utf-8
      trim_trailing_whitespace = true
      insert_final_newline = true
- name: copy .editorconfig to skel
  copy:
    src: ~/.editorconfig
    dest: /etc/skel/.editorconfig
  become: true
